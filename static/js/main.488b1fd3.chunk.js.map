{"version":3,"sources":["js/messages.js","js/helpers.js","js/api.js","components/MeetBox/MeetBox.js","components/MeetList.js","panels/Home.js","panels/Favorite.js","components/ComList.js","panels/Meet.js","panels/MeetAdmin.js","components/MeetBoxAdmin.js","components/MeetListAdmin.js","panels/AdminPage.js","panels/AddMeetPage.js","panels/Offline.js","panels/Onboarding.js","panels/Onboarding2.js","panels/Onboarding3.js","panels/AddGroupSuccess.js","panels/CommIntegration.js","App.js","index.js"],"names":["messages","not_class_api","server_offline","no_internet","bad_phone","wtf","oops","home_panel_title","admin_panel_title","favorite_panel_title","meet_empty_list","comm_empty_list","add_meet_page","edit_meet_modal","add_meet_success","add_meet_error","forms","start","finish","photo","add","save","submit","isDev","window","location","hash","isLocal","port","getMessage","k","d","checkVersionAndroid","navigator","userAgent","indexOf","Array","prototype","includes","dd","showAlert","setState","title","message","actions","autoclose","style","loader","disable","popout","react_default","a","createElement","es6","actionsLayout","onClose","shortNumber","count","number","Math","floor","concat","replace","titles","declOfNum","_console","console","log","apply","arguments","b64toBlob","b64Data","contentType","length","undefined","sliceSize","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","i","charCodeAt","byteArray","Uint8Array","push","Blob","type","axios","defaults","headers","common","Accept","API","Object","classCallCheck","this","method","action","data","url","catch","error","response","meet","send","meets","failed","forEach","e","reader","FileReader","blob","readAsDataURL","onloadend","result","reverse","meetId","allMeets","expireduserMeets","ownereduserMeets","userMeets","MeetBox","goMeet","_this$props","_this","props","setParentState","connect","activePanel","openActionSheet","stopPropagation","_this$props2","api","fetchedUser","onClick","ismember","makeStory","id","_this$props3","state","getUserMeets","isFave","getOwneredMeets","getExpiredUserMeets","getMeets","RemoveMeetMember","then","res","activeTab","removeMeetMember","mode","IS_PLATFORM_IOS","_this2","_this$props4","restProps","assign","marginBottom","className","backgroundImage","minWidth","color","owner_name","owner_surname","marginTop","name","display","flexDirection","members_amount","marginLeft","onMeet","more_horizontal_default","fill","Component","MeetList","map","index","components_MeetBox_MeetBox","key","stretched","header","icon","recent_outline_default","width","height","Home","possibleConstructorReturn","getPrototypeOf","call","fetching","onRefresh","setTimeout","left","users_outline_default","isFetching","components_MeetList","snackbar","Favorite","vertical","theme","selected","after","size","admins","ComList","comment_text","loading","comments","openErrorSnackbar","openDoneSnackbar","removeComment","RemoveComment","comment","status","success","GetMeetComments","Fragment","ownerid","link","user","parseInt","href","target","commAction","multiline","before","src","owner_photo","text","act","RateComment","rateComment","isliked","like_default","marginRight","like_outline_default","rating","comment_outline_default","isExpired","maxLength","borderRadius","placeholder","value","onChange","currentTarget","disabled","AddComment","document","getElementById","Meet","flood","onStoryChange","activeStory","_this$state","share","bridge","description","chevron_back_default","back_default","separator","weight","isexpired","approved","AddMeetMember","components_ComList","MeetAdmin","start_date","split","join","meetMembers","Deny","margin","photos","DeApprove","Approve","MeetBoxAdmin","level","components_MeetBoxAdmin","AdminPage","MeetListAdmin","AddMeetPage","AddMeet","asyncToGenerator","regenerator_default","mark","_callee","_ref2","mes","wrap","_context","prev","next","isGroup","groupSelected","sent","noty","fetch","group_id","payload","symbols_name","symbols_description","accept","stop","_ref3","_callee2","_e$currentTarget","file","_context2","files","abrupt","match","onload","defineProperty","_x","token","bind","assertThisInitialized","desc","end","approve","Date","parse","getDay","attemp","formLang","first_name","last_name","isCurrentGroupAdmin","currentGroupInfo","checked","top","bottom","maxfiles","acceptfiletypes","minfilesize","camera_outline_default","checkIfAllOk","Offline","_React$Component","inherits","createClass","Panel_default","PanelHeader_default","Div_default","Footer_default","Spinner_default","React","Rules","users_3_outline_default","compass_outline_default","add_circle_outline_default","user_circle_outline_default","notifications_default","Checkbox_default","stretchedß","Success","_56_check_circle_outline_default","CommIntegration","_56_users_outline_default","App","initApp","showOfflinePage","offline","showLoader","show","checkRoute","sub","detail","schemeAttribute","createAttribute","schemeK","scheme","status_bar_style","action_bar_color","body","attributes","setNamedItem","addUser","scope","story","panel","userId","getAllMeets","_ref","route","GetMeet","checkOnline","onLine","textToImage","image","require","generate","dataUri","background_type","locked","attachment","stickers","sticker_type","sticker","content_type","transform","relation_width","gravity","translation_y","err","_x2","duration","layout","check_circle_outline_default","cancel_circle_outline_default","_callee3","_context3","GetMeets","_callee4","_context4","GetExpiredUserMeets","_callee5","_context5","GetOwneredMeets","_callee6","_context6","GetUserMeets","_callee7","_context7","GetAllMeets","getComments","_ref8","_callee8","_context8","GetComments","_x3","_ref9","_callee9","isFirst","clubInfo","_context9","IsFirst","GetGroupInfo","_x4","cache","start_time","finish_time","changedRadio","subscribe","setInterval","_this3","isUserAdmin","history","views","onSwipeBack","isWebView","panels_Offline","tabbar","key_outline_default","src_panels_Home","panels_CommIntegration","AddGroupSuccess","panels_Meet","panels_AddMeetPage","panels_AdminPage","panels_MeetAdmin","panels_Favorite","panels_Onboarding","Onboarding2","Onboarding3","root","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.488b1fd3.chunk.js","sourcesContent":["export const messages = {\n    not_class_api: \"У нас проблемы, уже чиним\",\n    server_offline: \"Сервер не отвечает\",\n    no_internet: \"Ожидание интернет-соединения\",\n    bad_phone: \"Сервис поддерживает версию Android 5.1 и выше.\",\n    wtf: \"Что-то пошло не так.\",\n    oops: \"Упс...\",\n\n    home_panel_title: \"Диванные петиции\",\n    admin_panel_title: \"Модерация\",\n    favorite_panel_title: \"Мои петиции\",\n    meet_empty_list: \"Здесь пока ничего нет\",\n    comm_empty_list: \"Еще никто не поделился своим мнением\",\n\n    add_meet_page: \"Создание петиции\",\n    edit_meet_modal: \"Редактирование петиции\",\n    add_meet_success: \"Петиция отправлена на модерацию, это займёт пару часов\",\n    add_meet_error: \"Ошибка добавления петиции\",\n\n    forms: {\n        start: \"Дата начала петиции\",\n        finish: \"Дата окончания петиции\",\n        photo: \"Обложка петиции (до 16 МБ)\",\n        add: \"Добавить\",\n        save: \"Сохранить\",\n        submit: \"Отправить\"\n    }\n};\n","import {messages} from \"./messages\";\nimport React from 'react';\n\nimport {Alert} from '@vkontakte/vkui';\n// import connect from '@vkontakte/vk-connect';\n\nexport const isDev = (window.location.hash === '#debug') ? true : false;\nexport const isLocal = (window.location.port === '8080') ? true : false;\n\nexport const sleep = async (time) => {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve();\n        }, time);\n    });\n};\n\nexport const initLazyLoad = () => {\n    window.onscroll = () => {\n        const moreButton = document.getElementById('lazy-more');\n\n        if (moreButton && moreButton.disabled === false) {\n            if ((window.innerHeight + window.scrollY) >= (document.body.scrollHeight - 300)) {\n                moreButton.click();\n            }\n        }\n    };\n};\n\nexport const getMessage = (k, d) => {\n    if (messages && messages[k]) {\n        return messages[k];\n    } else {\n        return d || '—';\n    }\n}\n\nexport const checkVersionAndroid = () => {\n    if ((navigator.userAgent.indexOf('Android 4.') !== -1) || !Array.prototype.includes) {\n        // const actions = [{\n        //     title: 'Закрыть сервис',\n        //     action: () => { connect.send(\"VKWebAppClose\", { \"status\": \"success\" }) },\n        //     style: 'cancel'\n        // }];\n\n        window.showAlert(false, getMessage('bad_phone'));\n\n        return dd('checkVersionAndroid', 'Bad phone');\n    }\n    return dd('checkVersionAndroid', 'not bad phone');\n}\n\nexport const showAlert = (setState, title, message, actions) => {\n    actions = actions ? actions : [{\n        title: 'Ок',\n        autoclose: true,\n        style: 'cancel'\n    }];\n\n    setState({\n        loader: null,\n        disable: false,\n        popout: <Alert\n            actionsLayout=\"vertical\"\n            actions={actions}\n            onClose={() => {\n                setState({popout: null})\n            }}\n        >\n            {title ? <h2>{title}</h2> : <h2>{getMessage('oops')}</h2>}\n            <p>{message || getMessage('wtf')}</p>\n        </Alert>\n    });\n}\n\nexport const formatNumber = (number) => {\n    if (number === null) return 0;\n    return `${number}`.replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ');\n};\nconst declOfNum = (number, titles) => {\n    let cases = [2, 0, 1, 1, 1, 2];\n    return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\n}\n\nexport const shortNumber = count => {\n    if (count > 1000) {\n        return formatNumber(Math.floor(count / 1000)) + 'K участников'\n    } else if (count > 0) {\n        return `${count} ${declOfNum(count, [\"участник\", \"участника\", \"участников\"])}`;\n    } else return 'Участников нет'\n}\n\nexport const dd = (...m) => {\n    if (isDev || isLocal) console.log(...m);\n}\n","import axios from 'axios';\nimport {dd} from './helpers';\n\n\nconst API_URL = 'https://vargasoff.ru:8000/';\n\nconst b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n    return new Blob(byteArrays, {type: contentType});\n}\n\naxios.defaults.headers.common = {\n    Accept: \"application/json, text/plain, */*\"\n}\n\nexport default class API {\n\n    constructor() {\n        dd('API: ', 'init');\n    }\n\n    async send(method = 'GET', action, data = {}) {\n        const response = await axios({\n            method,\n            url: `${API_URL}${action}`,\n            data\n        }).catch(error => {\n            console.error('Error API:', error);\n        });\n        return response ? response.data : [];\n    }\n\n    async POSTGeoPosition(meet) {\n        return await this.send('POST', 'GeoPosition', meet);\n    }\n\n    async GetGeoPosition(location) {\n        return await this.send('GET', `GeoPosition?meet=${location.meet}`, null);\n    }\n\n    async GetGroupInfo() {\n        return await this.send('GET', `GetGroupInfo`, null);\n    }\n\n    async AddMeet(meet) {\n\n        return await this.send('POST', 'AddMeet', meet);\n    }\n\n    async IsFirst() {\n\n        return await this.send('GET', `IsFirst`, null);\n    }\n\n    async GetMeets() {\n        const meets = await this.send('GET', `GetMeets`, null);\n\n        if (!meets.failed) {\n            meets.forEach(e => {\n                    const reader = new FileReader();\n                    const blob = b64toBlob(e.photo.replace(`b'`, '').replace(`'`, ''), 'image/png');\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = () => {\n                        e.photo = reader.result;\n                    }\n                }\n            );\n            return meets.reverse();\n        } else return [];\n    }\n\n    async GetMeet(meetId) {\n        let meet = await this.send('GET', `GetMeet?meet=${meetId}`, null);\n        meet = meet[0];\n        const reader = new FileReader();\n        const blob = b64toBlob(meet.photo.replace(`b'`, '').replace(`'`, ''), 'image/png');\n        reader.readAsDataURL(blob);\n        reader.onloadend = () => {\n            meet.photo = reader.result;\n        };\n        return meet;\n    }\n\n    async GetAllMeets() {\n        const allMeets = await this.send('GET', `admin/GetAllMeets`, null);\n        dd('API: ', 'GetAllMeets', allMeets);\n\n        if (!allMeets.failed) {\n            allMeets.forEach(e =>\n                e.photo = e.photo.replace(`b'`, '').replace(`'`, '')\n            );\n            return allMeets.reverse();\n        } else return [];\n\n    }\n\n    async GetExpiredUserMeets() {\n        const expireduserMeets = await this.send('GET', `GetExpiredUserMeets`, null);\n        dd('API: ', 'GetExpiredUserMeets', expireduserMeets);\n\n        if (!expireduserMeets.failed) {\n            expireduserMeets.forEach(e => {\n                    const reader = new FileReader();\n                    const blob = b64toBlob(e.photo.replace(`b'`, '').replace(`'`, ''), 'image/png');\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = () => {\n                        e.photo = reader.result;\n                    }\n                }\n            );\n            return expireduserMeets.reverse();\n        } else return [];\n\n    }\n\n    async GetOwneredMeets() {\n        const ownereduserMeets = await this.send('GET', `GetOwneredMeets`, null);\n        dd('API: ', 'GetOwneredMeets', ownereduserMeets);\n\n        if (!ownereduserMeets.failed) {\n            ownereduserMeets.forEach(e => {\n                    const reader = new FileReader();\n                    const blob = b64toBlob(e.photo.replace(`b'`, '').replace(`'`, ''), 'image/png');\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = () => {\n                        e.photo = reader.result;\n                    }\n                }\n            );\n            return ownereduserMeets.reverse();\n        } else return [];\n\n    }\n\n    async RateComment(data) {\n\n        return await this.send('POST', 'RateComment', data);\n    }\n\n    async GetUserMeets() {\n        const userMeets = await this.send('GET', `GetUserMeets`, null);\n        dd('API: ', 'GetUserMeets', userMeets);\n\n        if (!userMeets.failed) {\n            userMeets.forEach(e => {\n                    const reader = new FileReader();\n                    const blob = b64toBlob(e.photo.replace(`b'`, '').replace(`'`, ''), 'image/png');\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = () => {\n                        e.photo = reader.result;\n                    }\n                }\n            );\n            return userMeets.reverse();\n        } else return [];\n\n    }\n\n    async AddMeetMember(data) {\n\n        return await this.send('POST', 'AddMeetMember', data);\n    }\n\n    async RemoveMeetMember(data) {\n\n        return await this.send('POST', `RemoveMeetMember`, data);\n    }\n\n    async AddComment(data) {\n\n        return await this.send('POST', `AddComment`, data);\n    }\n\n    async GetMeetComments(meet) {\n\n        return await this.send('GET', `GetMeetComments?meet=${meet}`, null);\n\n    }\n\n    async RemoveComment(data) {\n\n        return await this.send('POST', `RemoveComment`, data);\n    }\n\n    async Approve(data) {\n\n        return await this.send('POST', `admin/Approve`, data);\n    }\n\n    async DeApprove(data) {\n\n        return await this.send('POST', `admin/DeApprove`, data);\n    }\n\n    async Deny(data) {\n\n        return await this.send('POST', `/admin/DenyMeet`, data);\n    }\n}\n","import React, {Component} from 'react';\nimport {ActionSheet, ActionSheetItem, IS_PLATFORM_IOS} from '@vkontakte/vkui/';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport Icon28MoreHorizontal from '@vkontakte/icons/dist/28/more_horizontal';\nimport {shortNumber} from '../../js/helpers';\nimport './MeetBox.css'\n\nclass MeetBox extends Component {\n    goMeet = () => {\n        const {meet, setParentState} = this.props;\n        connect.send('VKWebAppEnableSwipeBack');\n        setParentState !== null &&\n        setParentState({\n            meet: meet,\n            activePanel: 'meet'\n        });\n    }\n    openActionSheet = (e) => {\n        e.stopPropagation();\n        const {meet, api, setParentState, fetchedUser} = this.props;\n        const removeMeetMember = e => {\n            const {state, getUserMeets, isFave, getOwneredMeets, getExpiredUserMeets, getMeets} = this.props\n            api.RemoveMeetMember({\n                meet: meet.id\n            }).then(res => {\n                if (isFave) {\n                    let activeTab = state.activeTab\n                    if (activeTab === 'all') {\n                        getUserMeets(fetchedUser.id);\n                    } else if (activeTab === 'my') {\n                        getOwneredMeets(fetchedUser.id);\n                    } else if (activeTab === 'exp') {\n                        getExpiredUserMeets(fetchedUser.id);\n                    }\n                } else {\n                    getMeets(fetchedUser.id)\n                }\n            });\n        }\n        setParentState !== null &&\n        setParentState({\n            popout:\n                <ActionSheet onClose={() => setParentState({popout: null})}>\n                    <ActionSheetItem onClick={this.goMeet} autoclose>\n                        Перейти на страницу петиции\n                    </ActionSheetItem>\n                    {meet.ismember &&\n                    <ActionSheetItem onClick={() => this.props.makeStory(meet.id)} autoclose>\n                        Поделиться в истории\n                    </ActionSheetItem>}\n                    {meet.ismember &&\n                    <ActionSheetItem onClick={() => removeMeetMember()} autoclose mode=\"destructive\">\n                        Отказаться от участия\n                    </ActionSheetItem>}\n                    {IS_PLATFORM_IOS && <ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\n                </ActionSheet>,\n        });\n    }\n\n    render() {\n        const {meet, restProps} = this.props;\n        return (\n            <div style={{\n                marginBottom: 10\n            }} onClick={this.goMeet} {...restProps}>\n                <div className='bigImage'\n                     style={{\n                         backgroundImage: `url(${meet.photo})`,\n                     }}\n                />\n                <div className={this.props.state === 'bright_light' ? 'newsDiv shadowL' : 'newsDiv shadowD'}>\n                    <div style={{minWidth: 0}}>\n                        <div className='meetSubtitle' style={{color: 'var(--accent)'}}>\n                            {meet.owner_name + \" \" + meet.owner_surname}\n                        </div>\n                        <div className='meetTitle' style={{marginTop: 6}}>\n                            {meet.name}\n                        </div>\n                        <div style={{display: 'flex', flexDirection: 'row', marginTop: 6}}>\n                            <div className='meetSubtitle'>\n                                {shortNumber(meet.members_amount)}\n                            </div>\n                            <div className='meetSubtitle' style={{\n                                marginLeft: 12,\n                                color: !meet.ismember ? 'var(--text_secondary)' : 'var(--button_commerce_background)'\n                            }}>\n                                {!meet.ismember ? \"Вы не участвуете\" : \"Вы участвуете\"}\n                            </div>\n                        </div>\n                    </div>\n                    {\n                        !this.props.onMeet &&\n                        <div style={{marginLeft: 'auto'}}>\n                            <Icon28MoreHorizontal\n                                onClick={(e) => this.openActionSheet(e)}\n                                fill={'var(--text_secondary)'}/>\n                        </div>\n\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MeetBox;\n","import React, {Component} from 'react';\nimport {\n    Group, Placeholder, Div, Spinner\n} from '@vkontakte/vkui';\nimport MeetBox from './MeetBox/MeetBox';\nimport Icon28RecentOutline from '@vkontakte/icons/dist/28/recent_outline';\n\nclass MeetList extends Component {\n    render() {\n        const {meets, setParentState, getUserMeets, makeStory} = this.props;\n        if (!meets) return <Div><Spinner/></Div>\n        return (\n            <div>\n                {\n                    (meets && meets.length) ?\n                        <Group className=\"transparentBody MeetList\">\n                            {\n                                meets.map((meet, index) =>\n                                    (\n                                        <MeetBox\n                                            key={index}\n                                            meet={meet}\n                                            {...this}\n                                            makeStory={makeStory}\n                                            getUserMeets={getUserMeets}\n                                            setParentState={setParentState}\n                                            style={{marginBottom: 12}}\n                                        />\n                                    ))\n                            }\n                        </Group>\n                        :\n                        <Placeholder\n                            stretched\n                            header={<div className='title'>Ой, кажется здесь пусто</div>}\n                            icon={<Icon28RecentOutline width={56} height={56}/>}\n                        >\n                            Но так не будет вечно..\n                        </Placeholder>\n                }\n            </div>\n        )\n    }\n}\n\nexport default MeetList;\n","import React, {Component} from 'react';\nimport {Panel, PanelHeader, PanelHeaderButton, PullToRefresh} from '@vkontakte/vkui';\nimport {getMessage} from '../js/helpers';\nimport MeetList from '../components/MeetList';\n\nimport Icon28UsersOutline from '@vkontakte/icons/dist/28/users_outline';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            meets: this.props.meets,\n            fetching: false\n        };\n\n        this.onRefresh = () => {\n            this.setState({fetching: true});\n            setTimeout(() => {\n                this.props.getMeets();\n                this.setState({fetching: false});\n            }, 500);  // сука ненавижу этот PTR, почему он не может нормально работать блять\n        };\n        this.api = this.props.api;\n    }\n\n    render() {\n        const {id, setParentState} = this.props;\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                    <PanelHeaderButton onClick={() => setParentState({\n                        activePanel: 'comm'\n                    })}>\n                        <Icon28UsersOutline width={24} height={24}/>\n                    </PanelHeaderButton>\n                }>{getMessage('home_panel_title')}</PanelHeader>\n\n                <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\n                    <MeetList\n                        {...this.props}\n                        meets={this.props.meets}\n                        setParentState={setParentState}\n                    />\n                </PullToRefresh>\n                {this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Home;\n","import React, {Component} from 'react';\nimport {Counter, Div, FixedLayout, HorizontalScroll, Panel, PanelHeader, Tabs, TabsItem} from '@vkontakte/vkui';\nimport {getMessage} from '../js/helpers';\nimport MeetList from '../components/MeetList';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Favorite extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            meets: this.props.userMeets\n        };\n\n        this.api = this.props.api;\n    }\n\n\n    render() {\n        const {id, setParentState, getUserMeets, getExpiredUserMeets, getOwneredMeets, makeStory, userMeets, state} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader>{getMessage('favorite_panel_title')}</PanelHeader>\n                <Div style={{marginBottom: 30}}/>\n                <FixedLayout vertical=\"top\">\n                    <Tabs theme=\"header\" type=\"buttons\">\n                        <HorizontalScroll>\n                            <TabsItem\n                                onClick={() => setParentState({activeTab: 'all'}) & getUserMeets()}\n                                selected={state.activeTab === 'all'}\n                                after={state.activeTab === 'all' && userMeets.length > 0 &&\n                                <Counter size=\"s\">{userMeets.length}</Counter>}\n                            >\n                                Все\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => setParentState({activeTab: 'exp'}) & getExpiredUserMeets()}\n                                selected={state.activeTab === 'exp'}\n                                after={state.activeTab === 'exp' && userMeets.length > 0 &&\n                                <Counter size=\"s\">{userMeets.length}</Counter>}\n                            >\n                                Завершенные\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => setParentState({activeTab: 'my'}) & getOwneredMeets()}\n                                selected={state.activeTab === 'my'}\n                                after={state.activeTab === 'my' && userMeets.length > 0 &&\n                                <Counter size=\"s\">{userMeets.length}</Counter>}\n                            >\n                                Созданные\n                            </TabsItem>\n                        </HorizontalScroll>\n                    </Tabs>\n                </FixedLayout>\n                <MeetList\n                    {...this.props}\n                    isFave\n                    makeStory={makeStory}\n                    getUserMeets={getUserMeets}\n                    meets={this.props.userMeets}\n                    setParentState={setParentState}\n                />\n                {this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Favorite;\n","import React, {Component} from 'react';\nimport {\n    ActionSheet,\n    ActionSheetItem,\n    Avatar,\n    Button,\n    Div,\n    IS_PLATFORM_IOS,\n    Placeholder,\n    RichCell,\n    Spinner,\n    Textarea\n} from '@vkontakte/vkui';\nimport Icon28CommentOutline from '@vkontakte/icons/dist/28/comment_outline';\nimport Icon24LikeOutline from '@vkontakte/icons/dist/24/like_outline';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport '../css/App.css';\n\nconst admins = [87478742, 236820864, 114752686]\n\nclass ComList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            meet: this.props.state.meet,\n            comment_text: '',\n            snackbar: null,\n            loading: false\n        };\n        this.api = this.props.api;\n    }\n\n    render() {\n        const {comments, setParentState, openErrorSnackbar, openDoneSnackbar} = this.props;\n        const {meet} = this.state;\n        if (comments === false) {\n            return <Div><Spinner/></Div>\n        }\n\n        const addComment = e => {\n            this.setState({loading: true});\n            this.api.AddComment({\n                comment: e,\n                meet: meet.id\n            }).then(e => {\n                if (e.success) {\n                    this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({comments}))\n                    document.getElementById('comm_inp').value = ''\n                    this.setState({comment_text: ''})\n                } else if (e.failed) {\n                    openErrorSnackbar(e.failed)\n                } else {\n                    openErrorSnackbar('Нельзя отправлять комментарии так часто.')\n                }\n                this.setState({loading: false});\n            })\n        }\n\n        const commAction = (id, ownerid) => {\n            let link = \"https://vk.com/id\" + ownerid;\n            const user = parseInt(this.props.state.fetchedUser.id);\n            setParentState({\n                popout:\n                    <ActionSheet onClose={() => setParentState({popout: null})}>\n                        {\n                            (admins.includes(user) || parseInt(ownerid) === user )&&\n                            <ActionSheetItem\n                                onClick={() => removeComment(id)}\n                                autoclose\n                                mode=\"destructive\"\n                            >\n                                Удалить комментарий\n                            </ActionSheetItem>\n                        }\n                        <ActionSheetItem\n                            autoclose\n                            href={link}\n                            target='_blank'\n                        >\n                            Страница ВК\n                        </ActionSheetItem>\n                        {IS_PLATFORM_IOS &&\n                        <ActionSheetItem\n                            autoclose\n                            mode=\"destructive\"\n                        >Отменить\n                        </ActionSheetItem>\n                        }\n                    </ActionSheet>,\n            });\n        }\n\n        const rateComment = (id, type) => {\n            let act;\n            if (type) {\n                act = 0;\n            } else act = 1;\n            this.api.RateComment({\n                comment: id,\n                act: act\n            }).then(e => {\n                if (e) {\n                    if (e.length === 0) {\n                        openErrorSnackbar('Не так часто')\n                        return\n                    } else if (e.status || e.success) {\n                        this.api.GetMeetComments(this.props.state.meet.id).then(comments => {\n                            setParentState({comments});\n                        });\n                    } else if (e.message) {\n                        openErrorSnackbar(e.message);\n                    } else if (e.failed) {\n                        openErrorSnackbar(e.failed);\n                    }\n                }\n\n            });\n        }\n\n        const removeComment = e => {\n            setParentState({comments: false})\n            this.api.RemoveComment({comment: e}).then(e => {\n                if (e.length === 0) {\n                    openErrorSnackbar('Не так часто')\n                    return\n                }\n                if (e.status || e.success) {\n                    this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({comments}));\n                    openDoneSnackbar('Комментарий удалён.');\n                } else if (e.message) {\n                    openErrorSnackbar(e.message);\n                } else if (e.failed) {\n                    openErrorSnackbar(e.failed);\n                }\n            });\n        }\n        return (\n            <>\n                {this.state.snackbar}\n                {(comments && comments.length) ?\n                    <>\n                        {comments.map((comment, index) =>\n                            (<RichCell\n                                key={index}\n                                onClick={(e) => {\n                                    e.stopPropagation()\n                                    commAction(comment.id, comment.ownerid)\n                                }}\n                                multiline\n                                before={<Avatar size={48} src={comment.owner_photo}/>}\n                                text={comment.comment}\n                                after={\n                                    <div>\n                                        <div style={{display: 'flex', flexDirection: 'row'}}\n                                             onClick={(e) => {\n                                                 e.stopPropagation()\n                                                 rateComment(comment.id, comment.isliked)\n                                             }}\n                                        >\n                                            {comment.isliked ?\n                                                <Icon24Like width={20} height={20} style={{marginRight: 6}}\n                                                            fill={'var(--destructive)'}/> :\n                                                <Icon24LikeOutline width={20} height={20} style={{marginRight: 6}}\n                                                                   fill={'var(--icon_secondary)'}/>}\n                                            <div\n                                                style={{color: comment.isliked ? 'var(--destructive)' : 'var(--icon_secondary)'}}>{comment.rating !== 0 && comment.rating}</div>\n                                        </div>\n                                    </div>\n                                }\n                            >\n                                {`${comment.owner_name}  ${comment.owner_surname}`}\n                            </RichCell>))}\n                    </>\n                    :\n                    <Placeholder\n                        icon={<Icon28CommentOutline width={56} height={56}/>}\n                        header=\"Комментариев нет\"\n                    >\n                        Будьте первым, кто оставить комментарий\n                    </Placeholder>\n                }\n                {\n                    !this.props.isExpired &&\n                    <Div>\n                        <Textarea\n                            maxLength='45'\n                            style={{borderRadius: '15px'}}\n                            placeholder={'Напишите комментарий'}\n                            id='comm_inp'\n                            value={this.state.comment_text}\n                            onChange={e => this.setState({comment_text: e.currentTarget.value})}\n                        />\n                        <Button\n                            disabled={!this.state.comment_text || this.state.loading}\n                            size='xl'\n                            mode=\"outline\"\n                            style={{marginTop: 12}}\n                            onClick={() => {\n                                if (this.state.comment_text) {\n                                    addComment(this.state.comment_text);\n                                }\n                            }}>Отправить комментарий</Button>\n                    </Div>\n                }\n            </>\n        )\n    }\n}\n\nexport default ComList;","import React, {Component} from 'react';\nimport {\n    ActionSheet,\n    ActionSheetItem,\n    Button,\n    Div,\n    Group,\n    Header,\n    IS_PLATFORM_IOS,\n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Spinner,\n    Text\n} from '@vkontakte/vkui';\nimport MeetBox from '../components/MeetBox/MeetBox';\nimport bridge from '@vkontakte/vk-bridge';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport ComList from '../components/ComList';\n//import {shortNumber} from '../js/helpers';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Meet extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            meet: this.props.state.meet,\n            ismember: this.props.state.meet.ismember,\n            disabled: false,\n            snackbar: null,\n            flood: false\n        };\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {\n        const {setParentState} = this.props;\n        this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({comments}))\n    }\n\n    render() {\n        const {id, onStoryChange, setParentState, activeStory} = this.props;\n        const {meet, disabled} = this.state;\n        //  var meetMembers = shortNumber(meet.members_amount)\n        //  const stop_date = meet.finish.split('-').reverse().join('-')\n        //  const backgroundImage = `url(${meet.photo})`;\n        // var link = meet.ownerid > 0 ? `https://vk.com/id${meet.ownerid}` : `https://vk.com/club${-meet.ownerid}`\n\n        /* const sub = e => {\n             bridge.unsubscribe(sub)\n             switch (e.detail.type) {\n                 case 'VKWebAppGeodataResult':\n                     if (!this.state.flood) {\n                         if (!e.detail.data.available) {\n                             console.log(e.detail.data.available)\n                             this.props.openErrorSnackbar('Доступ к геолокации не был получен.');\n                             this.setState({disabled: false});\n                             return\n                         }\n                         this.api.POSTGeoPosition({\n                             lat: e.detail.data.lat,\n                             long: e.detail.data.long\n                         }).then(res => {\n                             this.api.GetGeoPosition({\n                                 meet: this.props.state.meet.id\n                             }).then(res => {\n                                 this.setState({flood: true})\n                                 setTimeout(() => this.setState({flood: false}), 2000)\n                                 if (res.failed) {\n                                     this.setState({disabled: false});\n                                     this.props.openErrorSnackbar(res.failed);\n                                 } else if (res.status) {\n                                     openDoneSnackbar(res.status);\n                                     this.setState({disabled: false});\n                                 }\n                             })\n\n                         })\n                     } else {\n                         this.setState({disabled: false});\n                         this.props.openErrorSnackbar('Не так часто');\n                     }\n                     break;\n                 case 'VKWebAppGeodataFailed':\n                     this.props.openErrorSnackbar('Доступ к геолокации запрещён.');\n                     this.setState({disabled: false});\n                     break;\n                 default:\n                 // code\n             }\n         }*/\n\n        const paticipate = e => {\n            this.setState({disabled: true})\n            this.api.AddMeetMember({\n                meet: meet.id\n            }).then(() => this.setState({disabled: false, ismember: !this.state.ismember}));\n        }\n        const removeMeetMember = e => {\n            this.setState({disabled: true})\n            this.api.RemoveMeetMember({\n                meet: meet.id\n            }).then(() => {\n                this.setState({disabled: false, ismember: !this.state.ismember});\n                onStoryChange(activeStory, 'meets')\n            })\n        }\n        const menu = e => {\n            setParentState({\n                popout:\n                    <ActionSheet onClose={() => setParentState({popout: null})}>\n                        <ActionSheetItem onClick={share} autoclose>\n                            Поделиться на стене\n                        </ActionSheetItem>\n                        <ActionSheetItem onClick={() => this.props.makeStory(meet.id)} autoclose>\n                            Поделиться в истории\n                        </ActionSheetItem>\n                        {\n                            IS_PLATFORM_IOS &&\n                        <ActionSheetItem\n                            autoclose\n                            mode=\"destructive\"\n                        >\n                            Отменить\n                        </ActionSheetItem>\n                        }\n                    </ActionSheet>,\n            });\n        };\n        const share = e => {\n            bridge.send(\"VKWebAppShowWallPostBox\", {\"message\": `${meet.name}\\n\\n${meet.description}\\n\\n Примите участие в петиции по ссылке: https://vk.com/app7217332#${meet.id}`});\n        };\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                    <PanelHeaderButton onClick={() => onStoryChange(activeStory, 'meets')}>\n                        {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                    </PanelHeaderButton>}>Петиция</PanelHeader>\n                <Group header={<Header mode=\"secondary\">Краткие сведения о петиции</Header>}>\n                  <Div>\n                      <MeetBox\n                          onMeet\n                          meet={meet}\n                          setParentState={null}\n                          style={{marginLeft: 12, marginRight: 12}}\n                      />\n                  </Div>\n                </Group>\n                <Group separator=\"show\" header={<Header mode=\"secondary\">Описание петиции</Header>}>\n                    <Div>\n                        <Text weight=\"regular\">{meet.description}</Text>\n                    </Div>\n                </Group>\n                {\n                    (!meet.isexpired && meet.approved) &&\n                    <div>\n                        <Group header={<Header mode=\"secondary\">Действия</Header>}>\n                            <Div style={{display: 'flex'}}>\n                                <Button size=\"l\" disabled={disabled} stretched mode='outline' style={{marginRight: 12}}\n                                        onClick={() => !this.state.ismember ? paticipate() : removeMeetMember()}>{disabled ?\n                                    <Spinner\n                                        size='small'/> : !this.state.ismember ? 'Участвовать' : 'Отказаться от участия'}</Button>\n                                <Button size=\"l\" stretched mode='outline' onClick={menu}>Поделиться</Button>\n                            </Div>\n                            {/* {\n                this.state.ismember &&\n                <Div>\n                  <Button\n                    level='secondary'\n                    size=\"l\"\n                    disabled={disabled}\n                    stretched\n                    style={{ marginRight: 8 }}\n                    onClick={() => {\n                      bridge.subscribe(sub);\n                      bridge.send(\"VKWebAppGetGeodata\", {});\n                      this.setState({ disabled: true })\n                    }\n                    }>\n                    {disabled ? <Spinner size='small' /> : 'Найти единомышленников рядом'}\n                  </Button>\n                </Div>\n              } */}\n                        </Group>\n                        <Group header={<Header mode=\"secondary\">Комментарии</Header>}>\n                            {meet.approved && <ComList isExpired={meet.isexpired} {...this.props} />}\n                        </Group>\n                    </div>\n                }\n                {this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Meet;\n","import React, {Component} from 'react';\nimport {\n    Button,\n    Div,\n    Group,\n    IS_PLATFORM_IOS,\n    Link,\n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Separator,\n    Spinner,\n    UsersStack\n} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {shortNumber} from '../js/helpers';\n// import Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\n// import Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n// import Icon24Users from '@vkontakte/icons/dist/24/users';\n// import Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\n// import Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\n// import Icon24Done from '@vkontakte/icons/dist/24/done';\n// import Icon24Story from '@vkontakte/icons/dist/24/story';\n\nclass MeetAdmin extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            meet: this.props.state.meet,\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        const {id, onStoryChange} = this.props;\n        const {meet} = this.state;\n        const backgroundImage = `url(${meet.photo})`;\n        const start_date = meet.start.split('-').reverse().join('-')\n        var meetMembers = shortNumber(meet.members_amount)\n        var link = 'https://vk.com/id' + meet.ownerid\n\n        const approve = e => {\n            this.setState({disabled: true})\n            this.api.Approve({\n                meet: meet.id\n            }).then(e => onStoryChange('admin', 'meets'))\n        }\n        const deApprove = e => {\n            this.setState({disabled: true})\n            this.api.DeApprove({\n                meet: meet.id\n            }).then(e => onStoryChange('admin', 'meets'))\n        }\n        const Deny = e => {\n            this.setState({disabled: true})\n            this.api.Deny({\n                meet: meet.id\n            }).then(e => onStoryChange('admin', 'meets'))\n        }\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                    <PanelHeaderButton onClick={() => onStoryChange('admin', 'meets')}>\n                        {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                    </PanelHeaderButton>}>Петиция</PanelHeader>\n                <Group>\n                    <Div className=\"MeetImg\" style={{backgroundImage}}>\n                        <Div style={{marginTop: '20%'}} className=\"MeetName\">{meet.name}</Div>\n                        <Div style={{marginTop: '20%'}} className=\"MeetName\">{start_date}</Div>\n                    </Div>\n                    <Separator style={{margin: '12px 0'}}/>\n                    <Link id='link' target=\"_blank\" href={link}>\n                        <UsersStack\n                            photos={[meet.owner_photo]}>{meet.owner_name} {meet.owner_surname} • {meetMembers}</UsersStack>\n                    </Link>\n                    <Separator style={{margin: '12px 0'}}/>\n                    <Div id='desk'>{meet.description}</Div>\n                    <Div style={{display: 'flex'}}>\n                        {\n                            !meet.approved ?\n                                <Div>\n                                    <Button size=\"l\" disabled={this.state.disabled} stretched style={{marginRight: 8}}\n                                            onClick={() => approve()}>{this.state.disabled ?\n                                        <Spinner/> : 'Принять'}</Button>\n                                    <Button size=\"l\" disabled={this.state.disabled} stretched style={{marginRight: 8}}\n                                            onClick={() => Deny()}>{this.state.disabled ?\n                                        <Spinner/> : 'Отклонить'} </Button>\n                                </Div>\n                                : <Div>\n                                    <Button size=\"l\" disabled={this.state.disabled} stretched style={{marginRight: 8}}\n                                            onClick={() => deApprove()}>{this.state.disabled ?\n                                        <Spinner/> : 'Скрыть от пользователей'} </Button>\n                                    <Button size=\"l\" disabled={this.state.disabled} stretched style={{marginRight: 8}}\n                                            onClick={() => Deny()}>{this.state.disabled ?\n                                        <Spinner/> : 'Отклонить'} </Button>\n                                </Div>\n\n\n                        }\n                    </Div>\n                </Group>\n            </Panel>\n        );\n    }\n}\n\nexport default MeetAdmin;\n","import React, {Component} from 'react';\nimport { Button, IS_PLATFORM_IOS, /*Link,*/ ActionSheetItem, ActionSheet, Div } from '@vkontakte/vkui/';\n\nimport Icon28MoreHorizontal from '@vkontakte/icons/dist/28/more_horizontal';\n//import Icon28Messages from '@vkontakte/icons/dist/28/messages';\nimport { shortNumber } from '../js/helpers';\n\nclass MeetBoxAdmin extends Component {\n\n\n    goMeet = () => {\n        const { meet, setParentState } = this.props;\n\n        setParentState({\n            meet: meet,\n            activePanel: 'meetAdmin'\n        });\n    }\n\n    Deny = () => {\n        const { meet } = this.props;\n        this.setState({disabled: true})\n        this.api.Deny({\n            meet: meet\n        });\n    }\n\n    openActionSheet = (e) => {\n      e.stopPropagation()\n      const { setParentState/*, api, fetchedUser, meet */} = this.props;\n\n      setParentState({\n          popout:\n          <ActionSheet onClose={() => setParentState({ popout: null })}>\n            <ActionSheetItem onClick={ this.goMeet } autoclose>\n              Перейти на страницу петиции\n            </ActionSheetItem>\n            <ActionSheetItem onClick={ this.Deny} autoclose>\n              Отклонить\n            </ActionSheetItem>\n            {IS_PLATFORM_IOS && <ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\n          </ActionSheet>,\n      });\n  }\n\n    render() {\n        const { meet } = this.props;\n        const backgroundImage = `url(${meet.photo})`;\n        var meetMembers = shortNumber(meet.members_amount)\n\n        return (\n            <Div className=\"MeetBox\" onClick={ this.goMeet } style={{ backgroundImage }} >\n                <Div className=\"MeetMore\">\n                    <Icon28MoreHorizontal  onClick={(e) => this.openActionSheet(e) }/>\n                </Div>\n                <Div className=\"MeetName\">{ meet.name }</Div>\n                <Div className=\"MeetAction\">\n                  {\n                    meet.approved ?\n                    <Button level=\"primary\">Одобрен</Button>\n                    :   <Button level=\"primary\">Не рассмотрен</Button>\n                  }\n                    <Div className=\"MeetMembers\">{ meetMembers }</Div>\n                </Div>\n            </Div>\n        )\n    }\n}\n\nexport default MeetBoxAdmin;\n","import React, { Component } from 'react';\nimport { Group, Div } from '@vkontakte/vkui';\n\nimport MeetBoxAdmin from './MeetBoxAdmin';\nimport { getMessage } from '../js/helpers';\n\nclass MeetList extends Component {\n\n    render() {\n        const { meets, setParentState } = this.props;\n        if (!meets) return null\n        return (\n            <Group className=\"transparentBody MeetList\">\n                {\n                    (meets && meets.length) ?\n                        <>\n                            {\n                                meets.map((meet, index) => <MeetBoxAdmin\n                                    key={index}\n                                    meet={meet}\n                                    {...this.props}\n                                    setParentState={setParentState}\n                                />)\n                            }\n                        </>\n                        :\n                        <Group>\n                            <Div>{getMessage('meet_empty_list')}</Div>\n                        </Group>\n                }\n            </Group>\n        )\n    }\n}\n\nexport default MeetList;\n","import React, {Component} from 'react';\nimport {Panel, PanelHeader} from '@vkontakte/vkui';\nimport {getMessage} from '../js/helpers';\nimport MeetListAdmin from '../components/MeetListAdmin';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass AdminPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            meets: this.props.allMeets\n        };\n        this.api = this.props.api;\n    }\n\n    render() {\n        const {id, setParentState} = this.props;\n        return (\n            <Panel id={id}>\n                <PanelHeader>{getMessage('admin_panel_title')}</PanelHeader>\n                <MeetListAdmin\n                    {...this.props}\n                    meets={this.props.allMeets}\n                    setParentState={setParentState}\n                />\n            </Panel>\n        );\n    }\n}\n\nexport default AdminPage;\n","import React, {Component} from 'react';\nimport {\n    Button,\n    Checkbox,\n    Div,\n    File,\n    FormLayout,\n    FormStatus,\n    Group,\n    Header,\n    Input,\n    Link,\n    Panel,\n    PanelHeader,\n    Radio,\n    Spinner,\n    Textarea\n} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\nimport bridge from '@vkontakte/vk-bridge';\nimport MeetBox from '../components/MeetBox/MeetBox';\nimport {getMessage} from '../js/helpers';\nimport Icon28CameraOutline from '@vkontakte/icons/dist/28/camera_outline';\n\nclass AddMeetPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            disabled: false,\n            token: false,\n            error: false,\n            message: false\n        }\n        this.onChange = this.onChange.bind(this);\n        this.AddMeet = this.AddMeet.bind(this);\n    };\n\n    AddMeet = async () => {\n        const {api, setParentState, openDoneSnackbar, openErrorSnackbar, state} = this.props;\n        setParentState({disabled: true});\n        const {success, failed} = await api.AddMeet({\n            isGroup: state.groupSelected,\n            name: state.name,\n            start: state.start,\n            finish: state.finish,\n            description: state.description,\n            photo: state.photo\n        });\n        if (success) {\n            const mes = `Ваша петиция \"${state.name}>\" отправлена на модерацию.`;\n            if (state.noty) {\n                fetch('https://cors-anywhere.herokuapp.com/https://groovy-apricot.glitch.me/', {method: 'GET'})\n                    .then(res => bridge.send(\"VKWebAppSendPayload\", {\"group_id\": 189366357, \"payload\": {\"mes\": mes}}));\n            }\n            setParentState({\n                activePanel: 'meets',\n                activeStory: 'home',\n                symbols_name: '',\n                symbols_description: '',\n                name: '',\n                description: '',\n                photo: false,\n                accept: false\n            });\n            openDoneSnackbar(success);\n        } else if (failed) {\n            openErrorSnackbar(failed)\n        } else {\n            openErrorSnackbar('Создавать петиции можно не чаще четырёх раз в день')\n        }\n        setTimeout(() => setParentState({\n            popout: null\n        }), 3000)  // понял, что всё таки нужно\n    }\n\n    onChange = async (e) => {\n        const {name, value} = e.currentTarget;\n        if (name === 'file') {\n            const file = document.getElementById('file').files[0];\n            if (!file) {\n                this.setState({error: true})\n                this.setState({message: 'Файл не был выбран'})\n                return\n            }\n            if (!(file.type.match('image/*'))) {\n                this.setState({error: true})\n                this.setState({message: 'Формат выбранного файла не поддерживается.'})\n                return\n            }\n            if (file.size > 16777216) {\n                this.setState({error: true})\n                this.setState({message: 'Размер выбранного файла слишком большой.'})\n                return\n            }\n\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = (e) => save(e);\n\n            const save = e => {\n                if (!e.target.result) return;\n                console.log(e.target.result);\n                this.props.setParentState({\n                    photo: e.target.result\n                });\n                this.setState({\n                    error: false,\n                    message: 'Обложка загружена.',\n                    disabled: false\n                });\n            }\n        } else {\n            this.props.setParentState({[name]: value});\n            if (name === 'name') this.props.setParentState({symbols_name: `${value.length}/60`})\n            if (name === 'description') this.props.setParentState({symbols_description: `${value.length}/254`})\n        }\n    };\n\n    checkIfAllOk(name, desc, start, end, photo, approve) {\n        if ((name === undefined || name === '')\n            || (desc === undefined || desc === '')\n            || (start === undefined || start === '' || !start)\n            || ((Date.parse(start) < Date.parse(new Date())) && (new Date(start).getDay() < new Date().getDay()))\n            || (end === undefined || end === '' || !end)\n            || ((Date.parse(end) < Date.parse(new Date())) && (new Date(end).getDay() < new Date().getDay()))\n            || Date.parse(start) > Date.parse(end)\n            || !photo || !approve\n        ) {\n            return false\n        } else {\n            return true\n        }\n    }\n\n    render() {\n        const onChange = this.onChange;\n        const {id, state, setParentState} = this.props;\n        const {\n            name, start, snackbar, finish, description, symbols_name, symbols_description, photo, accept, attemp\n        } = state;\n        const formLang = getMessage('forms');\n        const meet = {\n            name: name || 'Сырки дорогие!',\n            photo: photo || 'https://img.tyt.by/n/03/8/glazirovannyy_syrok_1.jpg',\n            owner_name: state.fetchedUser.first_name,\n            owner_surname: state.fetchedUser.last_name,\n            members_amount: 10,\n            ismember: true\n        }\n        return (\n            <Panel id={id}>\n                <PanelHeader>{getMessage('add_meet_page')}</PanelHeader>\n                <Group header={<Header mode=\"secondary\">Предпросмотр</Header>}>\n                    <Div>\n                        <MeetBox\n                            meet={meet}\n                            setParentState={null}\n                            style={{marginLeft: 12, marginRight: 12}}\n                        />\n                    </Div>\n                </Group>\n                <Group header={<Header mode=\"secondary\">Информация о петиции</Header>}>\n                    <FormLayout>\n                        {state.isCurrentGroupAdmin && state.currentGroupInfo &&\n                        <Group title='Автор'>\n                            <Radio\n                                name=\"radio\"\n                                value=\"user\"\n                                onChange={(e) => setParentState({\n                                    groupSelected: false\n                                })}\n                                checked={!state.groupSelected}\n                            >{state.fetchedUser.first_name} {state.fetchedUser.last_name}\n                            </Radio>\n                            <Radio\n                                name=\"radio\"\n                                value=\"group\"\n                                checked={state.groupSelected}\n                                onChange={(e) => setParentState({\n                                    groupSelected: e.currentTarget.checked\n                                })}\n                                description=\"Петиция будет опубликована от имени этого сообщества\">\n                                {state.currentGroupInfo.name}\n                            </Radio>\n                        </Group>\n                        }\n                        <Input\n                            type=\"text\"\n                            top={<div style={{marginTop: -12}}>Название {symbols_name}</div>}\n                            name=\"name\"\n                            maxLength='60'\n                            value={name}\n                            placeholder={'Сырки дорогие!'}\n                            onChange={onChange}\n                            status={\n                                (name === undefined || name === '') && attemp ? 'error' : 'valid'\n                            }\n                            bottom={\n                                (name === undefined || name === '') && attemp ? 'Пожалуйста, укажите название петиции' : ''\n                            }\n                        />\n                        <Textarea\n                            top={<div style={{marginTop: -12}}>Описание {symbols_description}</div>}\n                            maxLength='254'\n                            name=\"description\"\n                            placeholder=\"Требуем понизить цену на сырки\"\n                            value={description}\n                            onChange={onChange}\n                            status={\n                                (description === undefined || description === '') && attemp ? 'error' : 'valid'\n                            }\n                            bottom={(description === undefined || description === '') && attemp ? 'Пожалуйста, укажите описание петиции' : ''}\n                        />\n                        <Input\n                            type=\"date\"\n                            top={<div style={{marginTop: -12}}>{formLang.start}</div>}\n                            name=\"start\"\n                            value={start}\n                            onChange={onChange}\n                            status={start === undefined || start === '' || !start ? 'error' : (Date.parse(start) < Date.parse(new Date())) && (new Date(start).getDay() < new Date().getDay()) ? 'error' : 'valid'}\n                            bottom={start === undefined || start === '' || !start ? 'Пожалуйста, укажите дату начала петиции' : (Date.parse(start) < Date.parse(new Date())) && (new Date(start).getDay() < new Date().getDay()) ? 'Дата начала петиции уже прошла' : ''}\n                        />\n                        <Input\n                            type=\"date\"\n                            top={<div style={{marginTop: -12}}>{formLang.finish}</div>}\n                            name=\"finish\"\n                            value={finish}\n                            onChange={onChange}\n                            status={finish === undefined || finish === '' || !finish ? 'error' : (Date.parse(finish) < Date.parse(new Date())) && (new Date(finish).getDay() < new Date().getDay()) ? 'error' : Date.parse(start) > Date.parse(finish) ? 'error' : 'valid'}\n                            bottom={finish === undefined || finish === '' || !finish ? 'Пожалуйста, укажите дату окончания петиции' : (Date.parse(finish) < Date.parse(new Date())) && (new Date(finish).getDay() < new Date().getDay()) ? 'Дата окончания петиции уже прошла' : Date.parse(start) > Date.parse(finish) ? 'Дата окончания петиции раньше даты начала' : ''}\n                        />\n                        <File\n                            id='file'\n                            maxfiles={1}\n                            acceptfiletypes={['image/png', 'image/jpg', 'image/jpeg', '.png']}\n                            minfilesize={0}\n                            top={<div style={{marginTop: -12}}>{formLang.photo}</div>}\n                            type=\"file\"\n                            before={<Icon28CameraOutline width={24} height={24}/>}\n                            size=\"l\"\n                            mode=\"outline\"\n                            name=\"file\"\n                            onChange={onChange}\n                            status={!photo && attemp ? 'error' : 'valid'}\n                            bottom={!photo && attemp ? 'Пожалуйста, загрузите обложку петиции' : ''}\n                        />\n                        {this.state.error &&\n                        <div style={{marginTop: -12}}>\n                            <FormStatus header=\"Ошибка при загрузке обложки\" mode=\"error\">\n                                {this.state.message}\n                            </FormStatus>\n                        </div>\n                        }\n                        {photo && !this.state.error &&\n                        <div style={{marginTop: -12}}>\n                            <FormStatus header=\"Обложка успешно загружена\" mode=\"default\">\n                                Теперь, ее можно увидеть в предпросмотре\n                            </FormStatus>\n                        </div>\n                        }\n                        <Checkbox\n                            style={{marginTop: -12}}\n                            checked={state.accept}\n                            onChange={(e) => this.props.setParentState({accept: e.currentTarget.checked})}\n                            status={!accept && attemp ? 'error' : 'valid'}\n                            bottom={!accept && attemp ? 'Пожалуйста, примите пользовательское соглашение' : ''}\n                        >Согласен с\n                            <Link target=\"_blank\"\n                                  href=\"https://vk.com/@virtualmeetingsclub-pravila-razmescheniya\"> правилами</Link></Checkbox>\n                        <Checkbox style={{marginTop: -24}} disabled={state.noty} checked={state.noty} onChange={(e) => {\n                            if (e.currentTarget.checked) {\n                                console.log('отправили!')\n                                bridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 189366357});\n                            }\n                        }}>\n                            Уведомить о результате модерации\n                        </Checkbox>\n                        <Button\n                            mode=\"outline\"\n                            size=\"xl\"\n                            disabled={!this.checkIfAllOk(name, description, start, finish, photo, accept) && attemp}\n                            style={{marginTop: -12}} onClick={() => {\n                                setParentState({\n                                    attemp: attemp + 1\n                                })\n                                if(!this.checkIfAllOk(name, description, start, finish, photo, accept)){\n                                    return;\n                                }\n                            this.AddMeet();\n                        }}>\n                            {this.state.disabled ? <Spinner/> : formLang.add}\n                        </Button>\n                    </FormLayout>\n                </Group>\n                {snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default AddMeetPage;","import React from 'react';\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Footer from '@vkontakte/vkui/dist/components/Footer/Footer';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Spinner from '@vkontakte/vkui/dist/components/Spinner/Spinner';\nimport {getMessage} from '../js/helpers';\n\nexport class Offline extends React.Component {\n\n\n    render() {\n        return (\n            <Panel id=\"offline\" theme=\"white\">\n                <PanelHeader>{/*Проблемы*/}</PanelHeader>\n                <Div>\n                    <Footer style={{marginTop: '50%'}}>{getMessage('no_internet')}</Footer>\n                    <Spinner/>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nexport default Offline;\n","import React, {Component} from 'react';\nimport {Panel, Placeholder, Button, FixedLayout, Div} from '@vkontakte/vkui';\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Onboarding.css';\n\nclass Rules extends Component {\n    render() {\n        const {id, onStoryChange} = this.props;\n        return (\n            <Panel id={id}>\n                <Placeholder\n                    stretched\n                    icon={<Icon28Users3Outline width={56} height={56}/>}\n                    header={<div className='title'>Диванные петиции</div>}\n                >\n                    Диванные петиции — новый способ выразить свое мнение не выходя из дома.\n                    Приложение и контент в нем не преследует цели кого-либо оскорбить, является исключительно\n                    юмористическим, носит развлекательный контент и тщательно модерируется.\n                </Placeholder>\n                <FixedLayout vertical='bottom'>\n                    <Div>\n                        <Button size='xl' stretched onClick={() => onStoryChange('onboarding', 'onboarding2')}\n                                mode=\"outline\">Далее</Button>\n                    </Div>\n                </FixedLayout>\n            </Panel>\n        );\n    }\n}\n\nexport default Rules;\n","import React, {Component} from 'react';\nimport {Panel, Placeholder, Button, FixedLayout, Div} from '@vkontakte/vkui';\nimport Icon28CompassOutline from '@vkontakte/icons/dist/28/compass_outline';\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28UserCircleOutline from '@vkontakte/icons/dist/28/user_circle_outline';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Onboarding.css';\n\nclass Rules extends Component {\n    render() {\n        const {id, onStoryChange} = this.props;\n        return (\n            <Panel id={id}>\n                <Placeholder\n                    stretched\n                    icon={<div style={{display: 'flex'}}>\n                        <Icon28CompassOutline width={56} height={56} style={{marginTop: 24}}/>\n                        <Icon28AddCircleOutline width={56} height={56} style={{marginLeft: 6}}/>\n                        <Icon28UserCircleOutline width={56} height={56} style={{marginTop: 24, marginLeft: 6}}/>\n                    </div>}\n                    header={<div className='title'>Навигация</div>}\n                >\n                    На первой вкладке находится список петиций, на второй — раздел для организации собственной, и на\n                    третьей — те, в которых вы принимаете участие\n                </Placeholder>\n                <FixedLayout vertical='bottom'>\n                    <Div style={{display: 'flex'}}>\n                        <Button\n                            size='xl'\n                            onClick={() => onStoryChange('onboarding', 'onboarding')}\n                            mode=\"outline\"\n                            stretched\n                        >Назад</Button>\n                        <Button\n                            style={{marginLeft: 10}}\n                            size='xl'\n                            onClick={() => onStoryChange('onboarding', 'onboarding3')}\n                            mode=\"outline\"\n                            stretched\n                        >Далее</Button>\n                    </Div>\n                </FixedLayout>\n            </Panel>\n        );\n    }\n}\n\nexport default Rules;\n","import React, {Component} from 'react';\nimport {Panel, Placeholder, Button, FixedLayout, Div} from '@vkontakte/vkui';\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\nimport connect from '@vkontakte/vk-connect';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Onboarding.css';\nimport Checkbox from \"@vkontakte/vkui/dist/components/Checkbox/Checkbox\";\n\nclass Rules extends Component {\n\n\n    render() {\n        const {id, onStoryChange} = this.props;\n\n        return (\n            <Panel id={id}>\n                <Placeholder\n                    stretched\n                    icon={<Icon28Notifications width={56} height={56}/>}\n                    header={<div className='title'>Уведомления</div>}\n                >\n                    Если вы хотите получать важные уведомления, то разрешите их в следующем окне. Обещаем не тревожить\n                    по пустякам!\n                </Placeholder>\n                <FixedLayout vertical='bottom'>\n                    <Checkbox id='noty'>Не присылать уведомления</Checkbox>\n                    <Div style={{display: 'flex'}}>\n                        <Button\n                            size='xl'\n                            onClick={() => onStoryChange('onboarding', 'onboarding2')}\n                            mode=\"outline\"\n                            stretchedß\n                        >Назад</Button>\n                        <Button\n                            style={{marginLeft: 10}}\n                            size='xl'\n                            onClick={() => {\n                                onStoryChange('home', 'meets')\n                                if (document.getElementById('noty').checked) {\n                                    console.log('((')\n                                    return;\n                                }\n                                connect.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 189366357});\n                            }}\n                            mode=\"outline\"\n                            stretched\n                        >Начать</Button>\n                    </Div>\n                </FixedLayout>\n            </Panel>\n        );\n    }\n}\n\nexport default Rules;\n","import React, {Component} from 'react';\nimport {Panel, PanelHeader, Button, Placeholder} from '@vkontakte/vkui';\n\nimport Icon56CheckCircleOutline from '@vkontakte/icons/dist/56/check_circle_outline';\n\n//import connect from '@vkontakte/vk-connect';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Success extends Component {\n\n\n    render() {\n        const {id, onStoryChange} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader>Группа успешно добавлена</PanelHeader>\n                <Placeholder\n                    icon={<Icon56CheckCircleOutline id='success'/>}\n                    action={\n                        <Button\n                            size=\"l\"\n                            onClick={() => onStoryChange('home', 'meets')}\n                            level=\"tertiary\">\n                            На главную\n                        </Button>\n                    }\n                    stretched\n                >\n                    Сервис успешно добавлен в сообщество, чтобы создать петицию от имени сообщества - откройте сервис по\n                    кнопке в сообществе\n                </Placeholder>\n            </Panel>\n        );\n    }\n}\n\nexport default Success;\n","import React, {Component} from 'react';\nimport {Panel, PanelHeader, Button, IS_PLATFORM_IOS, Placeholder, PanelHeaderButton} from '@vkontakte/vkui';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass CommIntegration extends Component {\n\n\n    render() {\n        const {id, onStoryChange} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                    <PanelHeaderButton onClick={() => onStoryChange('home', 'meets')}>\n                        {\n                            IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>\n                        }\n                    </PanelHeaderButton>\n                }> Интеграция\n                </PanelHeader>\n                <Placeholder\n                    icon={<Icon56UsersOutline/>}\n                    action={<Button size=\"l\" onClick={() => connect.send(\"VKWebAppAddToCommunity\", {})} level=\"primary\">Добавить\n                        в сообщество</Button>}\n                    stretched\n                >\n                    Вы можете установить сервис в сообщество и создавать петиции от его имени\n                </Placeholder>\n            </Panel>\n        );\n    }\n}\n\nexport default CommIntegration;\n","import React from 'react';\nimport connect from '@vkontakte/vk-bridge';\nimport { View, Epic, Tabbar, ConfigProvider, Snackbar, TabbarItem } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css';\n\nimport API from './js/api';\nimport { checkVersionAndroid, showAlert } from './js/helpers';\n\nimport Icon28CompassOutline from '@vkontakte/icons/dist/28/compass_outline';\nimport Icon28AddCircleOutline from '@vkontakte/icons/dist/28/add_circle_outline';\nimport Icon28UserCircleOutline from '@vkontakte/icons/dist/28/user_circle_outline';\nimport Icon28KeyOutline from '@vkontakte/icons/dist/28/key_outline';\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\nimport Icon28CheckCircleOutline from '@vkontakte/icons/dist/28/check_circle_outline';\nimport Home from './panels/Home';\nimport Favorite from './panels/Favorite';\n\nimport Meet from './panels/Meet';\nimport MeetAdmin from './panels/MeetAdmin';\n\nimport AdminPage from './panels/AdminPage';\nimport AddMeetPage from './panels/AddMeetPage';\n\nimport Offline from './panels/Offline';\n\nimport Onboarding from './panels/Onboarding';\nimport Onboarding2 from './panels/Onboarding2';\nimport Onboarding3 from './panels/Onboarding3';\n\nimport AddGroupSuccess from './panels/AddGroupSuccess';\n\nimport CommIntegration from './panels/CommIntegration';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveStory: 'home', /// home\n\t\t\tactivePanel: 'meets', // meets\n\t\t\tactiveTab: 'all',\n\t\t\tsnackbar: null,\n\t\t\tfetchedUser: {\n\t\t\t\tid: null\n\t\t\t},\n\t\t\tcache: null,\n\t\t\tpopout: null,\n\t\t\toffline: false,\n\t\t\tmeets: false,\n\t\t\tsymbols_name: '',\n\t\t\tsymbols_description: '',\n\t\t\taccept: false,\n\t\t\tname: '',\n\t\t\tstart: '0000-00-00', //\n\t\t\tfinish: '0000-00-00', // 0000-00-00\n\t\t\tstart_time: '00:00:00',\n\t\t\tfinish_time: '00:00:00',\n\t\t\tdescription: '',\n\t\t\tphoto: '',\n\t\t\tmeet: '',\n\t\t\tnoty: false,\n\t\t\tcomments: false,\n\t\t\t/*\t\tcurrentMeetId: false,*/\n\t\t\tuserMeets: false,\n\t\t\tallMeets: false,\n\t\t\tisCurrentGroupAdmin: false,\n\t\t\tcurrentGroupInfo: false,\n\t\t\tgroupSelected: false,\n\t\t\tchangedRadio: false,\n\t\t\tscheme: false ? 'space_gray' : 'bright_light',\n\n\t\t\tattemp: 0\n\t\t};\n\n\t\tthis.initApp();\n\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t}\n\n\tinitApp = () => {\n\n\t\twindow.showOfflinePage = (e) => {\n\t\t\tthis.setState({ offline: e });\n\t\t};\n\n\t\twindow.showAlert = (message, title, actions) => {\n\t\t\tshowAlert(this.setState.bind(this), message, title, actions);\n\t\t};\n\n\t\twindow.showLoader = (show) => {\n\t\t//\tthis.setState({ popout: show ? <ScreenSpinner /> : null });\n\t\t};\n\n\t\tcheckVersionAndroid();\n\n\t\tthis.api = new API();\n\t\tthis.checkRoute();\n\t};\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe(this.sub);\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t\tconnect.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"light\", \"action_bar_color\": \"#0080b4\" });\n\t\tsetInterval(() => this.checkOnline(), 3000);\n\t\tthis.getMeets();\n\t}\n\tsub = e => {\n\t\tswitch (e.detail.type) {\n\t\t\tcase 'VKWebAppUpdateConfig':\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tlet schemeK = e.detail.data.scheme;\n\t\t\t\tswitch (schemeK) {\n\t\t\t\t\tcase 'bright_light':\n\t\t\t\t\t\tschemeK = 'bright_light';\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\" });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'client_light':\n\t\t\t\t\t\tschemeK = 'bright_light';\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\" });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'client_dark':\n\t\t\t\t\t\tschemeK = 'space_gray'\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"light\", \"action_bar_color\": \"#19191a\" });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'space_gray':\n\t\t\t\t\t\tschemeK = 'space_gray'\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"light\", \"action_bar_color\": \"#19191a\" });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tschemeK = e.detail.data.scheme;\n\t\t\t\t}\n\t\t\t\tschemeAttribute.value = schemeK;\n\t\t\t\tthis.setState({ scheme: schemeK });\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tbreak;\n\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\tlet user = this.state.fetchedUser\n\t\t\t\tthis.addUser(user)\n\t\t\t\tbreak;\n\t\t\tcase 'VKWebAppAllowMessagesFromGroupResult':\n\t\t\t\tthis.setState({ noty: e.detail.data.result });\n\t\t\t\tbreak;\n\t\t\tcase 'VKWebAppAddToCommunityResult':\n\t\t\t\tthis.setState({\n\t\t\t\t\tactivePanel: 'succ'\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\tif (e.detail.data.scope === '') this.openErrorSnackbar('Действие отменено пользователем.')\n\t\t\t\tbreak;\n\t\t\tcase 'VKWebAppAccessTokenFailed':\n\t\t\t\tthis.openErrorSnackbar('Действие отменено пользователем.')\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t// code\n\t\t}\n\t};\n\t// TODO: Нужен history для навигации назад с других экранов и системной кнопки назад на ведре\n\tonStoryChange = (story, panel) => {\n\t\t//\tconnect.unsubscribe(this.sub);\n\t\tlet userId = this.state.fetchedUser.id\n\t\tthis.setState({\n\t\t\tactiveStory: story,\n\t\t\tactivePanel: panel,\n\t\t\tcomments: false,\n\t\t\t// snackbar: null\n\t\t});\n\t\tif (story !== 'home') this.setState({ snackbar: null });\n\t\tif (story === 'home') this.getMeets(this.state.fetchedUser.id);\n\t\tif (story === 'favorites') {\n\t\t\tlet activeTab = this.state.activeTab\n\t\t\tif (activeTab === 'all') {\n\t\t\t\tthis.getUserMeets(userId);\n\t\t\t} else if (activeTab === 'my') {\n\t\t\t\tthis.getOwneredMeets(userId);\n\t\t\t} else if (activeTab === 'exp') {\n\t\t\t\tthis.getExpiredUserMeets(userId);\n\t\t\t}\n\t\t}\n\t\tif (story === 'admin') this.getAllMeets(this.state.fetchedUser.id);\n\t\tif (panel !== 'meet' || panel !== 'succ' || panel !== 'comm') connect.send('VKWebAppDisableSwipeBack');\n\t}\n\n\tcheckRoute = async e => {\n\t\tlet route = window.location.hash.replace('#', '');\n\t\tif (route > 0) {\n\t\t\tconst meet = await this.api.GetMeet(route);\n\t\t\tif (meet[0]) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmeet: meet[0],\n\t\t\t\t\tactivePanel: 'meet'\n\t\t\t\t});\n\t\t\t} else return\n\t\t} else return\n\t}\n\tcheckOnline = e => {\n\t\tif (window.navigator.onLine) {\n\t\t\twindow.showOfflinePage(false);\n\t\t} else window.showOfflinePage(true);\n\t};\n\tmakeStory = async (id) => {\n\t\tconst textToImage = require('text-to-image');\n\t\tlet meet = await this.api.GetMeet(id);\n\t\tlet image = 'data:image/png;base64,' + meet.photo;\n\t\tlet url = `https://vk.com/app7217332#${id}`\n\t\ttextToImage.generate(meet.name).then(dataUri => {\n\t\t\tconnect.send(\"VKWebAppShowStoryBox\", {\n\t\t\t\t\"background_type\": \"image\", \"locked\": false, \"blob\": image, \"attachment\": {\n\t\t\t\t\t\"text\": \"go_to\",\n\t\t\t\t\t\"type\": \"url\",\n\t\t\t\t\t\"url\": url\n\t\t\t\t},\n\t\t\t\t\"stickers\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"sticker_type\": \"renderable\",\n\t\t\t\t\t\t\"sticker\": {\n\t\t\t\t\t\t\t\"content_type\": \"image\",\n\t\t\t\t\t\t\t\"blob\": dataUri,\n\t\t\t\t\t\t\t\"transform\": {\n\t\t\t\t\t\t\t\t\"relation_width\": 0.55,\n\t\t\t\t\t\t\t\t\"gravity\": \"center_bottom\",\n\t\t\t\t\t\t\t\t\"translation_y\": -0.25\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error(err)\n\t\t\t});\n\t\t});\n\n\t}\n\n\topenDoneSnackbar = e => {\n\t\tthis.setState({\n\t\t\tsnackbar: <Snackbar\n\t\t\t\tduration={2000}\n\t\t\t\tlayout=\"vertical\"\n\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\tbefore={<Icon28CheckCircleOutline width={24} height={24} fill={'var(--accent)'}/>}\n\t\t\t>\n\t\t\t\t{e}\n\t\t\t</Snackbar>\n\t\t});\n\t}\n\topenErrorSnackbar = e => {\n\t\tthis.setState({\n\t\t\tsnackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tduration={2000}\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Icon28CancelCircleOutline width={24} height={24} fill={'var(--destructive)'}/>}\n\t\t\t\t>\n\t\t\t\t\t{e}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\tgetMeets = async () => { // доступные митинги\n\t\tif (!this.state.meets) window.showLoader(true);\n\t\tthis.setState({ meets: false });\n\t\tconst meets = await this.api.GetMeets();\n\t\tthis.setState({ meets });\n\t\twindow.showLoader(false);\n\t}\n\tgetExpiredUserMeets = async () => {\n\t\tthis.setState({ userMeets: false });\n\t\twindow.showLoader(true);\n\t\tconst userMeets = await this.api.GetExpiredUserMeets(this.state.fetchedUser.id);\n\t\tthis.setState({ userMeets });\n\t\twindow.showLoader(false);\n\t}\n\tgetOwneredMeets = async () => {\n\t\tthis.setState({ userMeets: false });\n\t\twindow.showLoader(true);\n\t\tconst userMeets = await this.api.GetOwneredMeets(this.state.fetchedUser.id);\n\t\tthis.setState({ userMeets });\n\t\twindow.showLoader(false);\n\t}\n\tgetUserMeets = async () => { // митинги, в которых учавствует юзер\n\t\tif (!this.state.userMeets) window.showLoader(true);\n\t\tthis.setState({ userMeets: false });\n\t\tconst userMeets = await this.api.GetUserMeets(this.state.fetchedUser.id);\n\t\tthis.setState({ userMeets });\n\t\twindow.showLoader(false);\n\t}\n\tgetAllMeets = async () => { // админка\n\t\tif (!this.state.allMeets) window.showLoader(true);\n\t\tconst allMeets = await this.api.GetAllMeets(this.state.fetchedUser.id);\n\t\tthis.setState({ allMeets });\n\t\twindow.showLoader(false);\n\t}\n\tgetComments = async (meet) => {\n\t\tconst comments = await this.api.GetComments();\n\t\tthis.setState({ comments });\n\t}\n\taddUser = async (user) => { // добавить данные юзера в базу\n\t\tconst isFirst = await this.api.IsFirst();\n\t\tconst clubInfo = await this.api.GetGroupInfo();\n\t\tif (clubInfo.name) {\n\t\t\tthis.setState({\n\t\t\t\tisCurrentGroupAdmin: true,\n\t\t\t\tcurrentGroupInfo: clubInfo\n\t\t\t});\n\t\t}\n\t\tif (isFirst) { // показываем онбординг, если юзер зашёл первый раз\n\t\t\tthis.onStoryChange('onboarding', 'onboarding');} \n\t}\n\trender() {\n\t\tconst { api, state, onStoryChange, getMeets, makeStory, getComments,\n\t\t\tgetUserMeets, openErrorSnackbar, openDoneSnackbar, getOwneredMeets, getExpiredUserMeets } = this;\n\n\t\tconst { offline, popout, activeStory, meets, userMeets, allMeets,\n\t\t\tactivePanel, fetchedUser, comments } = this.state;\n\n\t\tconst isUserAdmin = (\n\t\t\tthis.state.fetchedUser.id === 35501089 ||\n\t\t\tthis.state.fetchedUser.id === 114752686 ||\n\t\t\tthis.state.fetchedUser.id === 87478742\n\t\t);\n\n\t\tconst props = {\n\t\t\tgetOwneredMeets, getExpiredUserMeets, openDoneSnackbar,\n\t\t\topenErrorSnackbar, api, isUserAdmin, getUserMeets, state, activeStory,\n\t\t\tmakeStory, getComments, getMeets, meets, userMeets,\n\t\t\tallMeets, onStoryChange, fetchedUser,\n\t\t\tcomments, setParentState: this.setState.bind(this)\n\t\t};\n\n\t\t//const history =  ? ['meets', 'meet'] : ['meets'];\n\n\t\tconst history = () => {\n\t\t\tlet response;\n\t\t\tswitch (activePanel) {\n\t\t\t\tcase 'meet':\n\t\t\t\t\tresponse = ['meets', 'meet'];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'succ':\n\t\t\t\t\tresponse = ['meets', 'succ'];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'comm':\n\t\t\t\t\tresponse = ['meets', 'comm'];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'meetAdmin':\n\t\t\t\t\tresponse = ['meets', 'meetAdmin'];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresponse = ['meets'];\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t\t/*\tconst history =\n\t\t\t\tactivePanel === 'meet' ||\n\t\t\t\tactivePanel === 'comm' || ДОРАБОТАТЬ ПЕРЕРАБОТАТЬ В КОРНЕ\n\t\t\t\tactivePanel === 'succ' ? [activePanel, 'panel'] : [activePanel];*/\n\n\t\tconst onSwipeBack = e => {\n\t\t\tthis.setState({ activePanel: 'meets' });\n\t\t}\n\n\t\tconst views = { onSwipeBack, popout, activePanel };\n\n\t\tconst scheme = this.state.scheme;\n\t\tconst className = scheme === 'bright_light' ? 'white' : 'dark';\n\t\treturn (\n\t\t\t<ConfigProvider scheme={scheme} isWebView>\n\t\t\t\t{\n\t\t\t\t\toffline ?\n\t\t\t\t\t\t<View id=\"offline\" popout={popout} activePanel=\"offline\">\n\t\t\t\t\t\t\t<Offline id=\"offline\" {...props} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Epic activeStory={activeStory} tabbar={\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tactiveStory !== 'onboarding' &&\n\t\t\t\t\t\t\t\tactivePanel !== 'meet' &&\n\t\t\t\t\t\t\t\tactivePanel !== 'comm' &&\n\t\t\t\t\t\t\t\tactivePanel !== 'succ'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t&& <Tabbar>\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.onStoryChange('home', 'meets')}\n\t\t\t\t\t\t\t\t\tselected={activeStory === 'home'}\n\t\t\t\t\t\t\t\t><Icon28CompassOutline /></TabbarItem>\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.onStoryChange('addMeet', 'addMeetPage')}\n\t\t\t\t\t\t\t\t\tselected={activeStory === 'addMeet'}\n\t\t\t\t\t\t\t\t><Icon28AddCircleOutline /></TabbarItem>\n\t\t\t\t\t\t\t\t{isUserAdmin && <TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.onStoryChange('admin', 'meets')}\n\t\t\t\t\t\t\t\t\tselected={activeStory === 'admin'}\n\t\t\t\t\t\t\t\t><Icon28KeyOutline /></TabbarItem>}\n\t\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\t\tonClick={() => this.onStoryChange('favorites', 'meets')}\n\t\t\t\t\t\t\t\t\tselected={activeStory === 'favorites'}\n\t\t\t\t\t\t\t\t><Icon28UserCircleOutline /></TabbarItem>\n\t\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t<View className={className} id=\"home\" history={history()} {...views} >\n\t\t\t\t\t\t\t\t<Home id=\"meets\" {...props} />\n\t\t\t\t\t\t\t\t<CommIntegration id=\"comm\" {...props} />\n\t\t\t\t\t\t\t\t<AddGroupSuccess id='succ' {...props} />\n\t\t\t\t\t\t\t\t<Meet id=\"meet\" {...props} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View id=\"addMeet\" {...views} >\n\t\t\t\t\t\t\t\t<AddMeetPage id=\"addMeetPage\" {...props} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View className={className} id=\"admin\" history={history()}  {...views} >\n\t\t\t\t\t\t\t\t<AdminPage id=\"meets\" {...props} />\n\t\t\t\t\t\t\t\t<MeetAdmin id='meetAdmin' {...props} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View className={className} id=\"favorites\" history={history()}  {...views} >\n\t\t\t\t\t\t\t\t<Favorite id=\"meets\" {...props} />\n\t\t\t\t\t\t\t\t<Meet id=\"meet\" {...props} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View className={className} id=\"onboarding\" activePanel={activePanel} >\n\t\t\t\t\t\t\t\t<Onboarding id=\"onboarding\" {...props} />\n\t\t\t\t\t\t\t\t<Onboarding2 id=\"onboarding2\" {...props} />\n\t\t\t\t\t\t\t\t<Onboarding3 id=\"onboarding3\" {...props} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</Epic>\n\t\t\t\t}\n\t\t\t</ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\n// import registerServiceWorker from './sw';\n\nconst root = document.getElementById('root');\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\nmVKMiniAppsScrollHelper(root);\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App/>, root);\n"],"sourceRoot":""}